<div class="explorer-container">
  <!-- Loader -->
  <div *ngIf="loading" class="loading">⏳ Carregando pastas...</div>

  <!-- Breadcrumb scrollável -->
  <div *ngIf="breadcrumb.length > 0" class="breadcrumb-container">
    <div class="breadcrumb-scroll">
      <span *ngFor="let pasta of breadcrumb; let i = index"
            class="breadcrumb-item"
            (click)="navegarPara(i)">
        {{ pasta.nome }} <span *ngIf="i < breadcrumb.length - 1"> / </span>
      </span>
    </div>
  </div>

  <!-- Grid de cards -->
  <div class="cards-grid" *ngIf="!loading">
    <!-- Pastas -->
    <div *ngFor="let pasta of pastasAtuais" class="card pasta-card" (click)="abrirPasta(pasta)" [attr.title]="pasta.nome">
      <div class="icon">📁</div>
      <div class="name">{{ pasta.nome }}</div>
    </div>

    <!-- Arquivos -->
    <div *ngFor="let arquivo of arquivos" class="card arquivo-card" (click)="abrirArquivo(arquivo)" [attr.title]="arquivo.nome">
      <div class="icon">📄</div>
      <div class="name">{{ arquivo.nome }}</div>
    </div>
  </div>

  <p *ngIf="!loading && pastasAtuais.length === 0 && arquivos.length === 0" class="empty-state">
    Nenhum item encontrado nesta pasta.
  </p>
</div>

<!-- Modal de arquivo -->
<div class="modal" *ngIf="arquivoSelecionado">
  <div class="modal-content animate">
    <span class="close" (click)="fecharModal()">&times;</span>
    <h3>{{ arquivoSelecionado.nome }}</h3>
    <div class="modal-buttons">
      <button (click)="visualizarArquivo(arquivoSelecionado)">👁️ Visualizar</button>
      <button (click)="baixarArquivo(arquivoSelecionado)">⬇️ Baixar</button>
    </div>
  </div>
</div>
